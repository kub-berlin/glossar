<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Glossar</title>
	<link href="https://kub-berlin.org/static/favicon.ico" rel="icon">
	<style>
		html {
			color: #111;
			font-size: 1em;
			font-family: sans-serif;
			line-height: 1.5;
		}
		header {
			display: flex;
			justify-content: space-between;
			align-items: center;
		}
		h1 {
			font-weight: normal;
			line-height: 1.2;
			margin: 0;
		}
		img {
			max-height: 5em;
		}
		table {
			border-collapse: collapse;
			border-spacing: 0;
		}
		td, th {
			border: 1px solid black;
			padding: 0.2em 0.5em;
			vertical-align: top;
		}
		form {
			display: flex;
			gap: 1em;
			margin-top: 1em;
		}
		.fake-td {
			border: 0;
			padding: 0;
			padding-bottom: 1em;
		@media print {
			form {
				display: none;
			}
		}
	</style>
</head>
<body>
	<table>
		<thead>
			<tr>
				<td class="fake-td">
					<header>
						<h1>Glossar f√ºr Sprachmittler*innen im Kontext Flucht und Migration</h1>
						<img alt="KuB" src="https://kub-berlin.org/static/logo.svg">
					</header>
				</td>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td class="fake-td">
					<table>
						<thead>
							<tr>
								{{{ thead }}}
							</tr>
						</thead>
						<tbody>
							{{{ tbody }}}
						</tbody>
					</table>
				</td>
			</tr>
		</tbody>
	</table>

	<script>
		var form = document.createElement('form');
		document.querySelector('header').after(form);

		var search = document.createElement('input');
		search.autofocus = true;
		search.addEventListener('input', event => {
			var q = search.value.toLowerCase();
			document.querySelectorAll('tbody tr').forEach(tr => {
				tr.hidden = q && !tr.textContent.toLowerCase().includes(q);
			});
		});
		form.append(search);

		document.querySelectorAll('th').forEach(th => {
			var label = document.createElement('label');
			var checkbox = document.createElement('input');
			checkbox.type = 'checkbox';
			checkbox.checked = true;
			checkbox.addEventListener('change', event => {
				th.hidden = !checkbox.checked;
				document.querySelectorAll(`td[lang="${th.dataset.lang}"]`).forEach(td => {
					td.hidden = !checkbox.checked;
				});
			});
			label.append(checkbox);
			label.append(' ' + th.textContent);
			form.append(label);
		});
	</script>
</body>
</html>
